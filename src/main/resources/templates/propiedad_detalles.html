<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>OpenHouse</title> 
        <link href="/propiedadestilo.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

    </head>
    <body>
        <nav th:replace="/fragments/navbar :: nav"></nav>        

        <div class="carta">
            <div class="carta-image">
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide" th:if="${propiedad.imagenes != null and not #lists.isEmpty(propiedad.imagenes)}" >

                            <img width="100%" height="100%" th:each="imagen : ${propiedad.imagenes}" th:src="@{/image/propiedad/__${propiedad.id}__}" alt="Imagen propiedad"/>                                
                        </div>
                    </div>
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>

            <div class="carta-content">
                <h2 class="titulo" th:text="${propiedad.ciudad}">Título de la carta</h2>
                <p class="parrafo" th:text="${propiedad.descripcion}">Descripción de la carta.</p>
                <p th:text="'Precio por noche: ' + ${propiedad.precioBase}">Precio: $100</p>
                <p>Días disponibles: Lunes a Viernes</p>
                <button type="button" class="boton-estilizado" sec:authorize="hasRole('ROLE_CLIENTE')"><a class="boton-estilizado"  th:href="@{/reserva/crear/__${propiedad.id}__}">Alquilar</a></button>
                <button type="button" class="boton-estilizado" th:if="${session.usersession == null}" ><a class="boton-estilizado" th:href="@{/login}" >Alquilar</a></button>
            </div>
        </div>

        <div class="items-list">
            <div class="item" th:text="'Cantidad de Personas: ' + ${propiedad.prestaciones.cantidadPers}" ></div>
            <div class="item" th:text="'Cantidad auto: ' + ${propiedad.prestaciones.cantAuto}" ></div>
            <div class="item" th:text="'Cuartos: ' + ${propiedad.prestaciones.cantCuarto}" ></div>
            <div class="item" th:text="'Baños: ' + ${propiedad.prestaciones.cantBanio}" ></div>
            <div class="item" th:if="${propiedad.prestaciones.pileta}">Piscina</div>
            <div class="item" th:if="${propiedad.prestaciones.asador}">Asador</div>
            <div class="item" th:if="${propiedad.prestaciones.cochera}">Cochera</div>
            <div class="item" th:if="${propiedad.prestaciones.aireAcondicionado}">Aire acondicionado</div>
            <div class="item" th:if="${propiedad.prestaciones.wiFi}">Wi-Fi</div>
            <div class="item" th:if="${propiedad.prestaciones.tv}">Tv</div>
            <div class="item" th:if="${propiedad.prestaciones.barra}">Barra de tragos</div>
            <div class="item" th:if="${propiedad.prestaciones.seAceptanMascotas}">Se aceptan Mascotas</div>
            <div class="item" th:if="${propiedad.prestaciones.aguaCorriente}">Agua Corriente</div>
            <div class="item" th:if="${propiedad.prestaciones.cocina}">Cocina</div>
            <div class="item" th:if="${propiedad.prestaciones.heladera}">Heladera</div>
            <div class="item" th:if="${propiedad.prestaciones.microondas}">Microondas</div>        
        </div>
        <br>


        <div class="contenedor" sec:authorize="hasRole('ROLE_CLIENTE')">
            <div class="contenedor-imagen">
                <img class="img-tamaño" th:src="@{/image/perfil/__${usuario.id}__}" alt="ImagenUsuario">

            </div>
            <div class="contenedor-comentario">
                <div>
                    <h3 class="titulo" th:text="${usuario.name}"></h3>
                    <form th:action="@{/comentario/registroCommentario/__${propiedad.id}__/__${usuario.id}__}" method="POST" enctype="multipart/form-data">
                        <textarea class="input-grande" type="text" placeholder="Ingrese su comentario" name="cuerpo"></textarea>

                        <h5>Calificacion</h5>
                        <div class="star-group">
                            <input type="checkbox" name="Calificacion" th:value="10" id="star1">
                            <label for="star1" class="star-label">10</label>

                            <input type="checkbox" name="Calificacion" th:value="9" id="star2">
                            <label for="star2" class="star-label">9</label>

                            <input type="checkbox" name="Calificacion" th:value="8" id="star3">
                            <label for="star3" class="star-label">8</label>

                            <input type="checkbox" name="Calificacion" th:value="7" id="star4">
                            <label for="star4"  class="star-label">7</label>

                            <input type="checkbox" name="Calificacion" th:value="6" id="star5">
                            <label for="star5" class="star-label">6</label>

                            <input type="checkbox" name="Calificacion" th:value="5" id="star6">
                            <label for="star6" class="star-label">5</label>

                            <input type="checkbox" name="Calificacion" th:value="4" id="star7">
                            <label for="star7" class="star-label">4</label>

                            <input type="checkbox" name="Calificacion" th:value="3" id="star8">
                            <label for="star8" class="star-label">3</label>

                            <input type="checkbox" name="Calificacion" th:value="2" id="star9">
                            <label for="star9" class="star-label">2</label>

                            <input type="checkbox" name="Calificacion" th:value="1" id="star10">
                            <label for="star10" class="star-label">1</label>
                        </div>
                        <br>

                        <div class="contenedor-boton">
                            <label for="input-archivo" class="boton-estilizado">Seleccionar Archivo</label>
                            <input type="file" id="input-archivo" class="input-archivo" name="archivo" accept="image/*">                                

                        </div>

                        <br>
                        <button class="boton-estilizado" type="submit"> Enviar</button>
                    </form>
                </div>
            </div>


        </div>
        <div class="espaciado" th:each="comentario : ${comentarios}">
            <div class="carta" >
                <div class="carta-content">
                    <h2 th:text="${comentario.cliente.name}"></h2>
                    <h5 th:text="${comentario.cuerpo}"></h5>
                </div>
                <div class="carta-image">
                    <div >
                        <div >
                            <div ><img th:src="@{/image/comentario/__${comentario.id}__}" alt="Imagen 1"></div> 
                        </div>
                    </div>
                </div>

            </div>

        </div>
        <section th:replace="/fragments/footer :: section"></section>
        <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>
        <script src="img.js"></script>
    </body>
</html>

